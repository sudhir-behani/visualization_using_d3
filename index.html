<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>IPL Tournament</title>
	<meta name="description" content="An IPL Tournament Visualization">
	<meta name="author" content="Sudhir Behani">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>
<meta charset="utf-8">
<style>
body {
  font: 10px sans-serif;
}
.y.axisRight text {
    fill: orange;
}
.y.axisLeft text {
    fill: black;
}
.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}
.x.axis path {
  display: none;

}
.title {
  font: 30 30px Helvetica Neue;
  fill: #666;
}
.category-name {
	font-size: 20px;
}

#tooltip {
    opacity: 0;
    position: absolute;
    text-align: center;
    width: 100px; 
	height: 30px;
	padding: 4px;
    background: white;
	border-radius: 8px;
    border: 0px;
}

#tooltip1 {
    opacity: 0;
    position: absolute;
    text-align: left;
    width: 100px; 
	height: 50px;
	padding: 4px;
    background: white;
	border-radius: 8px;
    border: 0px;
}

p.date {
    text-align: right;
}

p.main {
    text-align: justify;
}

form {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  position: absolute;
  left: 300px;
  top: 160px;
}

.button {
    display: inline-block;
    text-decoration: none;
    color: #fff;
    font-weight: bold;
    background-color: #538fbe;
    padding: 20px 70px;
    font-size: 24px;
    border: 1px solid #2d6898;
    background-image: linear-gradient(bottom, rgb(73,132,180) 0%, rgb(97,155,203) 100%);
    background-image: -o-linear-gradient(bottom, rgb(73,132,180) 0%, rgb(97,155,203) 100%);
    background-image: -moz-linear-gradient(bottom, rgb(73,132,180) 0%, rgb(97,155,203) 100%);
    background-image: -webkit-linear-gradient(bottom, rgb(73,132,180) 0%, rgb(97,155,203) 100%);
    background-image: -ms-linear-gradient(bottom, rgb(73,132,180) 0%, rgb(97,155,203) 100%);
 
    background-image: -webkit-gradient(
        linear,
        left bottom,
        left top,
        color-stop(0, rgb(73,132,180)),
        color-stop(1, rgb(97,155,203))
    );
    -webkit-border-radius: 5px;
    -moz-border-radius: 5px;
    border-radius: 5px;
    text-shadow: 0px -1px 0px rgba(0,0,0,.5);
    -webkit-box-shadow: 0px 6px 0px #2b638f, 0px 3px 15px rgba(0,0,0,.4), inset 0px 1px 0px rgba(255,255,255,.3), inset 0px 0px 3px rgba(255,255,255,.5);
    -moz-box-shadow: 0px 6px 0px #2b638f, 0px 3px 15px rgba(0,0,0,.4), inset 0px 1px 0px rgba(255,255,255,.3), inset 0px 0px 3px rgba(255,255,255,.5);
    box-shadow: 0px 6px 0px #2b638f, 0px 3px 15px rgba(0,0,0,.4), inset 0px 1px 0px rgba(255,255,255,.3), inset 0px 0px 3px rgba(255,255,255,.5);
}
</style>
<body>
	<script>
	<!--Load All dataset -->
	
	</script>
	<div class="slides" id="first_slide" hidden>
		<section>
			<center>
				<h1>
					IPL (INDIAN PREMIER LEAGUE) TOURNAMENT
				</h1>
				<br>
				<small>
					<ol>				
						<h3>
							A professional Twenty20 cricket league in India. Twenty20 match is a form of limited overs cricket and it involves two teams.  
						</h3>
						<h3>
							There have been ten seasons of the IPL tournament starting from 2007 to 2017. A toss decides whether a team will bat or bowl first. 
						</h3>
						<h3>
							Team batting first wins then its win by runs and on the other hand team batting second wins then its considered as win by wickets. 
							There are in total 20 overs and each over bowled has six deliveries. 			
						</h3>
					</ol>
					<br><br>
					<p>
					Created by Sudhir Behani
					</p>
				</small>
				<br><br>
				<button class="button" onclick="about_vis()"><strong>About the Visualization</strong></button>
				<div class="fragment" data-fragment-index="9" style="cursor: pointer;">
					<img src="images/arrow-down.png" style="border: none; background:none; box-shadow:none; position:absolute; top:580px; left:720px; width:80px;" height="60" width="60">
				</div>
			</center>
		</section>
	</div>
	
	<div class="slides" id="second_slide" hidden>	
		<section>
			<h1>
				The Narative Visualization
			</h1>
			<p>
				This project has used hybrid struture visualization with interactive slideshows to narrate the story of IPL Tournament dataset.     
			</p>			
			<h1>
				Elements of Narrative Visuals 
			</h1>			
			<small>
				<ol>
					<li class="fragment" data-fragment-index="1"><strong>Scenes:</strong></li>
					<p class="fragment" data-fragment-index="2">The <strong>scenes</strong> in each page that make up the presentation. These scenes contains text description about the visualization and charts.
						They can be controlled using arrow, pageup and pagedown keys which enable users to move from scene to scene.
					</p>
					<li class="fragment" data-fragment-index="3"><strong>Annotations:</strong></li>
					<p class="fragment" data-fragment-index="4">The <strong>tooltips</strong>, <strong>labels</strong> & <strong>legends</strong>; that display match statistics.</p>
					<li class="fragment" data-fragment-index="5"><strong>Parameters:</strong></li>
					<p class="fragment" data-fragment-index="6">The parameters of this interective presentation are <strong>matches played and won, win by runs and wickets and avg runs per over in normal and super overs.</strong></p>
					<li class="fragment" data-fragment-index="7"><strong>Triggers:</strong></li>
					<p class="fragment" data-fragment-index="8"><strong>Arrows</strong> and <strong>buttons</strong> are used to trigger updates in visulization.</p>
				</ol>
			</small>							
			<center>
			<div class="fragment" data-fragment-index="9" style="cursor: pointer;">
				<img src="images/arrow-left.png" style="border: none; background:none; box-shadow:none;" height="60" width="60">
			</div>			
			</center>			
		</section>
	</div>
		
	<div class="slides" id="third_slide" hidden>
	<center>
		<h1>
		THE DATASET
		</h1>
		<p>
		Dataset includes two csv files: matches and deliveries. 
		</p>
		
		<p>
		<strong>First</strong> file consists of match details for each season (season is represented as year of hosting). Mentioned details comprises of city where the match is played, 
		names of the participating teams - team1, team2, toss winning team, result of the match whether it is a tie/normal/no result 
		(no result can be a case when a match is abandoned due to weather conditions), winning team and losing team of the match. 		
		Winning teams can win a match based on win by wickets and win by runs. Other details like man of the match, match umpires/referees are also included. 
		</p>
		
		<p>
		<strong>Second</strong> file consists of deliveries which contains number of information for each match played. Inning details for each match, team batting first has innings as 1 and other team batting second has innings as 2. Batting team, bowling team names and this gets revered for innings 2, as team batting first will bowl and team bowling will be batting. So for each match there are 2 innings and each team will bat and bowl once. As this is a twenty over game over column contains each over number and ball column contains information about each bowl per over. Information like batsman, non_striker (batsman) and bowler are also added. Is_super_over columns displays 1 when it’s a super over. For each match, there will be 5 super overs where there are restrictions for placing a fielders inside the circle so that batsman get the liberty to hit long shots. Other details like wide_runs, bye_runs, legbye_runs, noball_runs, penalty_runs, batsman_runs, extra_runs, total_runs these are related to extra runs in a bowl are included. Additional information like players_dismissed, dismissal_kind and fielder are related to which player was dismissed and how he was dismissed. 
		</p>
		
		<a href="https://www.kaggle.com/manasgarg/ipl">Link to Dataset Source</a>
		
		<div class="fragment" data-fragment-index="9" style="cursor: pointer;">
			<img src="images/arrow-up.png" style="border: none; background:none; box-shadow:none; position:absolute; top:510px; left:720px; width:80px;" height="60" width="60">
		</div>					
		<div class="fragment" data-fragment-index="9" style="cursor: pointer;">
			<img src="images/arrow-down.png" style="border: none; background:none; box-shadow:none; position:absolute; top:560px; left:720px; width:80px;" height="60" width="60">
		</div>		
	</center>	
	</div>
	
	<div class="slides" id="fourth_slide" hidden>
	<h1>
	Matches Played vs Matches Won
	</h1>
	<h3>
	This chart shows a comparison between total matches played and matches won by each team as a stacked bar chart.
	Team name is nominal variable and plotted in X axis, Y axis is discrete value as total matches played and won for each team is discrete.
	A stacked bar chart was chosen as it’s a plot between nominal and discrete and matches won is a subset of matches played with different colors 
	for total matches and matches won for effective comparison. 
	</h3>
	<h3>
	In the data source matches.csv team1 and team2 names were shown separately to present the match between two teams. 
	Combining team1 and team2 which contains all the team names for each match that helped in calculating total matches played by each team.
	</h3>
	<h3>
	Plot is sorted in descending order of matches won.
	</h3>		
	<br><br>
	<form>
	  <label><input type="radio" name="mode" id="radio_matches" value="matches_all" checked>All Teams</label>
	  <label><input type="radio" name="mode" id ="radio_matches_top" value="matches_top">Top 5 Teams</label>
	</form>
	<br>
	<center>
		<div class="fragment" data-fragment-index="9" style="cursor: pointer;" 	>
			<img src="images/arrow-up.png" style="border: none; background:none; box-shadow:none; position:absolute; top:630px; left:500px; width:80px;" height="60" width="60">
		</div>						
		<div class="fragment" data-fragment-index="9" style="cursor: pointer;">
			<img src="images/arrow-down.png" style="border: none; background:none; box-shadow:none; position:absolute; top:680px; left:500px; width:80px;" height="60" width="60">
		</div>	
	</center>	
	</div>
	
	<div class="slides" id="fifth_slide" hidden>
	<h1>
	WinByRuns vs WinByWickets
	</h1>
	<h3>
	In this plot we compare all wining team's win by runs and win by wickets count. Team name is a nominal variable as it contains names and plotted on X axis, 
	Y axis has the count of WinByRuns and WinByWickets. A side by side bar chart was chosen to clearly showcase the win by runs and win by wickets for each winning team. 
	</h3>
	<h3>
	Count of win by runs and wickets were evaluated by a calculation: group by each winning team and counting when win by run or wickets is more than zero.
	</h3>
	<h3>
	Plot is sorted in descending order of win by wickets.
	</h3>	
	<br><br>
	<form>
	  <label><input type="radio" name="mode" id="radio_winby" value="winby_all" checked>All Teams</label>
	  <label><input type="radio" name="mode" id ="radio_winby_top" value="winby_top">Top 5 Teams</label>
	</form>
	<br>	
	<center>
		<div class="fragment" data-fragment-index="9" style="cursor: pointer; ">
			<img src="images/arrow-up.png" style="border: none; background:none; box-shadow:none; position:absolute; top:630px; left:500px; width:80px;" height="60" width="60">
		</div>						
		<div class="fragment" data-fragment-index="9" style="cursor: pointer;">
			<img src="images/arrow-down.png" style="border: none; background:none; box-shadow:none; position:absolute; top:680px; left:500px; width:80px;" height="60" width="60">
		</div>	
	</center>	
	</div>

	<div class="slides" id="sixth_slide" hidden>
	<h1>
	Runs scored in super over vs normal overs
	</h1>
	<h3>
	This is a plot for winning teams with runs scored in each super over and each normal overs. 
	Winner is a nominal variable and avg runs scored in super over and avg runs in normal over are continuous variables. 
	</h3>
	<h3>
	As it’s a plot between nominal and continuous so a stacked bar chart was chosen.	
	</h3>
	<h3>
	Plot is sorted in descending order of runs scored in super overs by each team.
	</h3>
	<br><br>
	<form>
	  <label><input type="radio" name="mode" id="radio_runs" value="runs_all" checked>All Teams</label>
	  <label><input type="radio" name="mode" id ="radio_runs_top" value="runs_top">Top 5 Teams</label>
	</form>
	<br>		
	<center>
		<div class="fragment" data-fragment-index="9" style="cursor: pointer;">
			<img src="images/arrow-up.png" style="border: none; background:none; box-shadow:none; position:absolute; top:630px; left:500px; width:80px;" height="60" width="60">
		</div>						
		<div class="fragment" data-fragment-index="9" style="cursor: pointer;">
			<img src="images/arrow-down.png" style="border: none; background:none; box-shadow:none; position:absolute; top:680px; left:500px; width:80px;" height="60" width="60">
		</div>	
	</center>	
	</div>
	
	<div class="slides" id="last_slide" hidden>
	<h1>
	Inference
	</h1>
	<p><b>
	Matches Played vs Matches Won
	</b></p>
	<small>
		<p>
		This plot displays the top teams with the max number of wins.
		</p>
	</small>
	<p><b>
	WinByRuns vs WinByWickets
	</b></p>
	<small>
		<p>
		If team batting first wins the match they are counted under win by runs else team batting second will win by wickets. 
		A win by runs and win by wickets for each winning team shows that teams wining by wickets are the same as per matches won. 
		</p>
		<p>
		IPL tournament being only a 20 over match, team batting first have the advantage of playing without any mental difficulty pressure in comparison 
		to team batting second who have the runs to be scored. So win by wickets is more difficult. Top six teams winning by wickets are the same as teams 
		with total matches won in previous plot. Though their rankings might be different. 
		</p>
	</small>
	<p><b>
	Runs scored in super over vs normal overs
	</b></p>
	<small>
		<p>
		Runs scored plot shows that an important factor for all the winning teams is to have a high scoring rate during the super overs. 
		The scoring rate is much higher in super overs compared to runs scored in normal overs. 
		</p>
		<p>
		This is true for all the winning teams and so it is an important characteristics teams. Though there could be other important factors which could be explored in 
		future like home ground, bowling and batting statistics, wickets taken and penalty runs given during bowling.
		</p>
	</small>
		<center>
			<h1>
				Thank You!!
			</h1>	
		<div class="fragment" data-fragment-index="9" style="cursor: pointer;">
			<img src="images/arrow-up.png" style="border: none; background:none; box-shadow:none; position:absolute; top:600px; left:720px; width:80px;" height="60" width="60">
		</div>					
		<div class="fragment" data-fragment-index="9" style="cursor: pointer;">
			<img src="images/arrow-down.png" style="border: none; background:none; box-shadow:none; position:absolute; top:650px; left:720px; width:80px;" height="60" width="60">
		</div>			
		</center>
	</div>	
		
	<footer id="main_footer" hidden>
      <small>Compiled by: Sudhir Behani</small>
    </footer>
	<!--Not used buttons -->
	<div id="tooltip"></div>
	<div id="viz_button" style="display:none;"\>
		<button onclick="about_vis()"><strong>About the Visualization</strong></button>
		<button class="button" onclick="about_vis()">Data Visualization</button>
	</div>
	<div id="all_buttons" style="display:none;"\>
		<button class="button" onclick="matches_played_won()" >Matches Played Won</button>
		<button class="button" onclick="win_by()" >WinBy_Wickets_Runs </button>
		<button class="button" onclick="runs_per_over()" >RunsPerOver</button>
	</div>
	<script src="https://d3js.org/d3.v3.min.js"></script>
	<script src="keypress.js"></script>
<script>
	<!-- Dataset global variables -->
	var data_matches = 0;
	var data_win_by = 0;
	var data_runs_per_over = 0;
	var team_names = 0;
	
	var data_top_matches = 0;
	var data_top_win_by = 0;
	var data_top_runs_per_over = 0;
	
	<!--Colors -->
	//macthes_played_won
	var color_mp = "steelblue";
	var color_mw = "orange";

	// win_by
	var color_wbr = "#dd4477";
	var color_wbw = "#69c242";
	
	// runs per over
	var color_rps = "#994499";				
	var color_rpn = "#ffcc00";

	// clear the screen
	function clear_screen() {
	
		// remove any svg element
		d3.select("svg").remove();
		// remove any div elemnts
		var div_elems = document.getElementsByClassName("slides");
		var i;
		for (i = 0; i < div_elems.length; i++) {
			div_elems[i].style.display = "none";
		}
	}
	clear_screen();
	
    <!--Function to Load the data -->
		function load_data_first_page() {
		<!--Data Matches -->
		console.log('Loading matches data..')
		d3.tsv("src/matche_play_won.tsv", type_matches, function(error, data) {
			data_matches = data;
			console.log(data_matches);		
		});
		function type_matches(d) {
		  d.played = +d.played;
		  return d;
		}
		<!--Top 5 Matches -->
		console.log('Loading matches top teams data..')
		d3.tsv("src/top_matche_play_won.tsv", type_matches, function(error, data) {
			data_top_matches = data;
			console.log(data_top_matches);		
		});
		function type_matches(d) {
		  d.played = +d.played;
		  return d;
		}
	}
	function load_data() {
		
		<!--Data Win By -->
		console.log('Loading wins_by data..')		
		d3.tsv("src/win_by.tsv", type_winby, function(error, data) {
			data_win_by = data;
			console.log(data_win_by);
		});
		function type_winby(d) {
		  d.win_by_runs = +d.win_by_runs;
		  return d;
		}
		
		<!--Top 5 WinsBy -->
		console.log('Loading wins_by data..')		
		d3.tsv("src/top_win_by.tsv", type_winby, function(error, data) {
			data_top_win_by = data;
			console.log(data_top_win_by);
		});
		function type_winby(d) {
		  d.win_by_runs = +d.win_by_runs;
		  return d;
		}
		
		<!--Data Runs Per Over -->
		console.log('Loading run per over data..')		 	
		d3.tsv("src/runs_per_over.tsv", type_runs, function(error, data) {
			if(error) console.log("error fetching runs data");
			data_runs_per_over = data;
			console.log(data_runs_per_over);
		});
		function type_runs(d) {
		  //console.log(d);
		  if (d !== null) { 
			d.runs_super_over = +d.runs_super_over;
		  }
		  return d;
		}
		
		<!--Data Runs Per Over -->
		console.log('Loading run per over data..')		 	
		d3.tsv("src/top_runs_per_over.tsv", type_runs, function(error, data) {
			if(error) console.log("error fetching runs data");
			data_top_runs_per_over = data;
			console.log(data_top_runs_per_over);
		});
		function type_runs(d) {
		  //console.log(d);
		  if (d !== null) { 
			d.runs_super_over = +d.runs_super_over;
		  }
		  return d;
		}
		
		<!--Team Full Names -->
		console.log('Reading Team Names..')
		team_names = [{
					'Chennai Super Kings':'CSK',
					'Deccan Chargers':'DC',
					'Delhi Daredevils':'DD',
					'Gujarat Lions':'GL',
					'Kings XI Punjab':'KXP',
					'Kochi Tuskers Kerala':'KTK',
					'Kolkata Knight Riders':'KKR',
					'Mumbai Indians':'MI',
					'Pune Warriors':'PW',
					'Rajasthan Royals':'RR',
					'Rising Pune Supergiant':'RPS',
					'Royal Challengers Bangalore':'RCB',
					'Sunrisers Hyderabad':'SH',
				}];
		console.log(team_names[0]);		
	}

	// body font size
	function body_font (size) {
		var b_elem = document.body
		console.log("checking body font..");
		b_elem.style.fontSize = size;
		
		console.log(b_elem.style.fontSize);			
	}
	
	// init first slides	
	function init() {

		// clear complete screen
		clear_screen();
		body_font("20px")
		// load data for first slide
		load_data_first_page();		
		// initialize the first slide
		var div_elem = document.getElementById("first_slide");
		div_elem.style.display = "block";
		div_elem.top = "50%";
		div_elem.left = "50%";
		
		// load rest of the data for all slides		
		load_data();
		
		//main_footer
		//var foot = document.getElementById("main_footer");
		//foot.style.display = "block";		
	}
	init();
	
	// switch to page
	function switch_page(page) {
		switch(page) {
			case 1:
				clear_screen();
				body_font("20px")
				var div_elem = document.getElementById("first_slide");
				div_elem.style.display = "block";
				div_elem.top = "50%";
				div_elem.left = "50%";
				break;
			case 2:
				clear_screen();
				body_font("20px")								
				var div_elem = document.getElementById("third_slide");
				div_elem.style.display = "block";							
				break;
			case 3:
				clear_screen();
				body_font("10px")								
				var div_elem = document.getElementById("fourth_slide");
				div_elem.style.display = "block";
				div_elem.style.top = "600px";
				div_elem.style.left = "150px";
				
				matches_played_won();
				break;
			case 4:
				clear_screen();
				body_font("10px")								
				var div_elem = document.getElementById("fifth_slide");
				div_elem.style.display = "block";
				div_elem.style.top = "600px";
				div_elem.style.left = "150px";
				
				win_by();
				break;
			case 5:
				clear_screen();
				body_font("10px")								
				var div_elem = document.getElementById("sixth_slide");
				div_elem.style.display = "block";
				div_elem.style.top = "600px";
				div_elem.style.left = "150px";
				
				runs_per_over();
				break;
			case 6:
				clear_screen();
				body_font("20px")								
				var div_elem = document.getElementById("last_slide");
				div_elem.style.display = "block";
				break;				
			default:
				clear_screen();
		}				
	}
	
	// controls the pagination 	
	var page=1;	
	var rl_page = 0;
	function pageup() {
	
		return function(event) {
		if (rl_page !== 1) {
				event.preventDefault();
				if (page > 1 ) {
					page = page - 1;
				}
				switch_page(page);
				console.log("Arrow key pressed - pageup."+page);
			}
		};
	}	

	function pagedown() {
	
		return function(event) {
		if (rl_page !== 1) {		
			event.preventDefault();
			page = page + 1;
			if (page == 7 ) {
				page = 1;
			}			
			switch_page(page);
			console.log("Arrow key pressed - pagedown."+page);
		  }	
		};
	}

	function pageleft() {
		console.log("Left key pressed: "+rl_page);
		return function(event) {
		if (rl_page === 1) {		
			event.preventDefault();
			rl_page = 0;
			switch_page(page);
			console.log("Arrow key pressed - pageup."+page);				
		  }
		};
	}	

	<!--Narative Visualization -->	
	function about_vis() {
	
		console.log("Pressed the button about_viz");	
		clear_screen();
		body_font("20px")				
		var div_elem = document.getElementById("second_slide");
		div_elem.style.display = "block";				
		rl_page = 1; // set the rl_page
		//<!--Display 3 buttons -->			
		//d3.select("svg").remove();		
		//var elem = document.getElementById("all_buttons");
		//console.log(elem)
		//if (elem.style.display === "none") {
		//	elem.style.display = "block";
		//} else {
		//	elem.style.display = "none";
		//}
	}
	
	<!-- Arrow key controls -->	
	function controls() {

	d3.select('body').call(d3.keybinding()
		.on('←', pageleft())
		.on('↑', pageup())
		.on('↓', pagedown())
		.on('pgup', pageup())
		.on('pgdown', pagedown())
		);	
	}
	controls();

	<!--Scene1 -->
	function matches_played_won(){
	
		d3.select("svg").remove();
						
		d3.selectAll("input")
			.on("change", changed);
		
		function changed() {
		  console.log('matches radio changed');	
		  console.log(this.value);	
		  if (this.value === "matches_all") matches_all();
		  else matches_top();
		}		

		var r_all = document.getElementById("radio_matches").checked;
		var r_top = document.getElementById("radio_matches_top").checked;
		
		if (r_all == true) {
			matches_bar_chart(data_matches);
		}
		else {
			matches_bar_chart(data_top_matches);
		}
		
		function matches_all() {
			//clear_screen();
			d3.selectAll("svg").remove();
			console.log('matches radio changed inside function all ..');				
			matches_bar_chart(data_matches);
		}	
		
		function matches_top() {
			//clear_screen();
			d3.select("svg").remove();
			console.log('matches radio changed inside function top ..');				
			matches_bar_chart(data_top_matches);		
		}
		function matches_bar_chart(data) {
			
			console.log("matches check radio..");	
			console.log(r_top);
			
			var margin = {top: 65, right: 80, bottom: 80, left: 50},
				width = 960 - margin.left - margin.right,
				height = 500 - margin.top - margin.bottom;
			
			var x = d3.scale.ordinal()
				.rangeRoundBands([0, width], .1);
			var y0 = d3.scale.linear().domain([300, 1100]).range([height, 0]);
			
			var xAxis = d3.svg.axis()
				.scale(x)
				.orient("bottom");
				
			// create left yAxis
			var yAxisLeft = d3.svg.axis().scale(y0).ticks(4).orient("left");

			var tooltip = d3.select("#tooltip");

			var svg = d3.select("body").append("svg")
				.attr("width", width + margin.left + margin.right)
				.attr("height", height + margin.top + margin.bottom)
				.append("g")
				.attr("class", "graph")
				.attr("transform", "translate(" + margin.left + "," + margin.top + ")");
		
			x.domain(data.map(function(d) { return d.team; }));
			console.log('matches x var');
			y0.domain([0, d3.max(data, function(d) { return d.played; })]);
			
			svg.append("g")
			  .attr("class", "x axis")
			  .attr("transform", "translate(0," + height + ")")
			  .call(xAxis);
			  
			svg.append("g")
			  .attr("class", "y axis axisLeft")
			  .attr("transform", "translate(0,0)")
			  .call(yAxisLeft)
			  .append("text")
				.attr("y", 6)
				.attr("dy", "-2em")
				.style("text-anchor", "middle")
				.style("text-anchor", "middle")
				.text("MATCHES");
		
			bars = svg.selectAll(".bar").data(data).enter();	
			bars.append("rect")
			  .attr("class", "bar1")
			  .attr("x", function(d) { return (!r_top) ? x(d.team)+15 : x(d.team); })
			  .attr("width", x.rangeBand()/2)
			  .attr("y", function(d) { return y0(d.played); })
			  .attr("height", function(d,i,j) { return height - y0(d.played); })
			  .attr("fill", color_mp)			  
			  .on("mouseover", function(d,i) {
					tooltip.style("opacity", 1)
						   .style("left",(d3.event.pageX)+"px")
						   .style("top",(d3.event.pageY)+"px")
						   .html("Team Name:" + d.team + "\n" +"Matches Played:"+d.played);
				})
			   .on("mouseout", function() { tooltip.style("opacity", 0) });

			bars.append("rect")
			  .attr("class", "bar2")
			  .attr("x", function(d) { return (!r_top) ? x(d.team)+15 : x(d.team); })
			  .attr("width", x.rangeBand()/2)
			  .attr("y", function(d) { return y0(d.won); })
			  .attr("height", function(d,i,j) { return height - y0(d.won); })			  
			  .attr("fill", color_mw)			  			  
			  .on("mouseover", function(d,i) {
					tooltip.style("opacity", 1)
						   .style("left",(d3.event.pageX)+"px")
						   .style("top",(d3.event.pageY)+"px")
						   .html("Team Name:" + d.team + "\n" +"Matches Won:"+d.won);
				})
				.on("mouseout", function() { tooltip.style("opacity", 0) });
				
			console.log(bars);
			
			<!--Create the legend -->
			var colors = d3.scale.ordinal()
				.range([color_mp, color_mw]);		
			//var colors = d3.range([color_mp, color_mw]);		
			
			var legend = svg.selectAll(".legend")
			.data(["Matches Played", "Matches Won"])
			.enter().append("g")
			.attr("class", "legend")
			.attr("transform", function(d, i) { return "translate(0," + i * 20 + ")"; });		
			
			legend.append("rect")
			.attr("x", width - 5)
			.attr("y", height+40)
			.attr("width", 18)
			.attr("height", 18)
			.style("fill", colors);
			
			console.log(legend);
			
			legend.append("text")
			.attr("x", width - 10)
			.attr("y", height + 50)
			.attr("dy", ".35em")
			.style("text-anchor", "end")
			.text(function(d) { return d; });		
		}
		
	}

	<!--Scene2 -->
	function win_by() {
	
		console.log("Pressed the button win_by");	
		d3.select("svg").remove();
		
		d3.selectAll("input")
			.on("change", changed);
		
		function changed() {
		  console.log('winby radio changed');	
		  console.log(this.value);	
		  if (this.value === "winby_all") winby_all();
		  else winby_top();
		}		

		var r_all = document.getElementById("radio_winby").checked;
		var r_top = document.getElementById("radio_winby_top").checked;
		
		if (r_all == true) {
			winby_bar_chart(data_win_by);
		}
		else {
			winby_bar_chart(data_top_win_by);
		}
		
		function winby_all() {
			//clear_screen();
			d3.selectAll("svg").remove();
			console.log('winby radio changed inside function all ..');				
			winby_bar_chart(data_win_by);
		}	
		
		function winby_top() {
			//clear_screen();
			d3.select("svg").remove();
			console.log('winby radio changed inside function top ..');				
			winby_bar_chart(data_top_win_by);		
		}
		
		function winby_bar_chart(data) {
		
			var margin = {top: 80, right: 80, bottom: 80, left: 80},
				width = 960 - margin.left - margin.right,
				height = 500 - margin.top - margin.bottom;
			var x = d3.scale.ordinal()
				.rangeRoundBands([0, width], .1);
			var y0 = d3.scale.linear().domain([300, 1100]).range([height, 0]);
			
			var xAxis = d3.svg.axis()
				.scale(x)
				.orient("bottom");
				
			// create left yAxis
			var yAxisLeft = d3.svg.axis().scale(y0).ticks(4).orient("left");

			var tooltip = d3.select("#tooltip");

			var svg = d3.select("body").append("svg")
				.attr("width", width + margin.left + margin.right)
				.attr("height", height + margin.top + margin.bottom)
			  .append("g")
				.attr("class", "graph")
				.attr("transform", "translate(" + margin.left + "," + margin.top + ")");
			
			x.domain(data.map(function(d) { return d.team; }));
			y0.domain([0, d3.max(data, function(d) { return d.win_by_runs; })]);
	 
			svg.append("g")
			  .attr("class", "x axis")
			  .attr("transform", "translate(0," + height + ")")
			  .call(xAxis);
			  
			svg.append("g")
			  .attr("class", "y axis axisLeft")
			  .attr("transform", "translate(0,0)")
			  .call(yAxisLeft)
			  .append("text")
				.attr("y", 6)
				.attr("dy", "-2em")
				.style("text-anchor", "end")
				.style("text-anchor", "end")
				.text("WIN BY");
						
			bars = svg.selectAll(".bar").data(data).enter();	
			bars.append("rect")
			  .attr("class", "bar1")
			  .attr("x", function(d) { return x(d.team); })
			  .attr("width", x.rangeBand()/2)
			  .attr("y", function(d) { return y0(d.win_by_wickets); })
			  .attr("height", function(d,i,j) { return height - y0(d.win_by_wickets); })
			  .attr("fill", color_wbr)		
			  .on("mouseover", function(d,i) {
					tooltip.style("opacity", 1)
						   .style("left",(d3.event.pageX)+"px")
						   .style("top",(d3.event.pageY)+"px")
						   .html("Team Name:" + d.team + "\n" +"Win by wickets:"+d.win_by_wickets);
				})
			   .on("mouseout", function() { tooltip.style("opacity", 0) });

			bars.append("rect")
			  .attr("class", "bar2")
			  .attr("x", function(d) { return x(d.team) + x.rangeBand()/2; })
			  .attr("width", x.rangeBand() / 2)
			  .attr("y", function(d) { return y0(d.win_by_runs); })
			  .attr("height", function(d,i,j) { return height - y0(d.win_by_runs); })
			  .attr("fill", color_wbw)
			  .on("mouseover", function(d,i) {
					tooltip.style("opacity", 1)
						   .style("left",(d3.event.pageX)+"px")
						   .style("top",(d3.event.pageY)+"px")
						   .html("Team Name:" + d.team + "\n" +"Win by wickets:"+d.win_by_runs);
				})
				.on("mouseout", function() { tooltip.style("opacity", 0) });
					
			function type(d) {
			  d.win_by_wickets = +d.win_by_wickets;
			  return d;
			}

			<!--Create the legend -->
			var colors = d3.scale.ordinal()
				.range([color_wbr, color_wbw]);		
			
			var legend = svg.selectAll(".legend")
			.data(["Win By Wickets", "Win By Runs"])
			.enter().append("g")
			.attr("class", "legend")
			.attr("transform", function(d, i) { return "translate(0," + i * 20 + ")"; });		
			
			legend.append("rect")
			.attr("x", width - 5)
			.attr("y", height+40)
			.attr("width", 18)
			.attr("height", 18)
			.style("fill", colors);
			
			console.log(legend);
			
			legend.append("text")
			.attr("x", width - 10)
			.attr("y", height + 50)
			.attr("dy", ".35em")
			.style("text-anchor", "end")
			.text(function(d) { return d; });		
		}
	}
	
	<!--Scene3 -->
	function runs_per_over() {
	
		console.log("Pressed the button runs_per_over");	
		d3.select("svg").remove();
		
		d3.selectAll("input")
			.on("change", changed);
		
		function changed() {
		  console.log('runs radio changed');	
		  console.log(this.value);	
		  if (this.value === "runs_all") runs_all();
		  else runs_top();
		}		

		var r_all = document.getElementById("radio_runs").checked;
		var r_top = document.getElementById("radio_runs_top").checked;
		
		if (r_all == true) {
			runs_bar_chart(data_runs_per_over);
		}
		else {
			runs_bar_chart(data_top_runs_per_over);
		}
		
		function runs_all() {
			//clear_screen();
			d3.selectAll("svg").remove();
			console.log('runs radio changed inside function all ..');				
			runs_bar_chart(data_runs_per_over);
		}	
		
		function runs_top() {
			//clear_screen();
			d3.select("svg").remove();
			console.log('runs radio changed inside function top ..');				
			runs_bar_chart(data_top_runs_per_over);		
		}
		
		function runs_bar_chart(data) {
		
			var margin = {top: 60, right: 80, bottom: 80, left: 60},
				width = 960 - margin.left - margin.right,
				height = 500 - margin.top - margin.bottom;
			var x = d3.scale.ordinal()
				.rangeRoundBands([0, width], .1);
			var y0 = d3.scale.linear().domain([300, 1100]).range([height, 0]);
			
			var xAxis = d3.svg.axis()
				.scale(x)
				.orient("bottom");
				
			// create left yAxis
			var yAxisLeft = d3.svg.axis().scale(y0).ticks(4).orient("left");

			var tooltip_r = d3.select("#tooltip");

			var svg = d3.select("body").append("svg")
				.attr("width", width + margin.left + margin.right)
				.attr("height", height + margin.top + margin.bottom)
				.append("g")
				.attr("class", "graph")
				.attr("transform", "translate(" + margin.left + "," + margin.top + ")");
			
			x.domain(data.map(function(d) { return d.team; }));
			y0.domain([0, d3.max(data, function(d) { return d.runs_super_over; })]);
	 
			svg.append("g")
			  .attr("class", "x axis")
			  .attr("transform", "translate(0," + height + ")")
			  .call(xAxis);
			  
			svg.append("g")
			  .attr("class", "y axis axisLeft")
			  .attr("transform", "translate(0,0)")
			  .call(yAxisLeft)
			  .append("text")
				.attr("y", 6)
				.attr("dy", "-2em")
				.style("text-anchor", "middle")
				.style("text-anchor", "middle")
				.text("AVG RUNS PER OVER");
				
			bars = svg.selectAll(".bar").data(data).enter();	
			bars.append("rect")
			  .attr("class", "bar1")
			  .attr("x", function(d) { return (!r_top) ? x(d.team)+15 : x(d.team)+50; })
			  .attr("width", x.rangeBand()/2)
			  .attr("y", function(d) { return y0(d.runs_super_over); })
			  .attr("height", function(d,i,j) { return height - y0(d.runs_super_over); }) 
			  .attr("fill", "#994499")				  
			  .on("mouseover", function(d,i) {
					tooltip_r.style("opacity", 1)
						   .style("left",(d3.event.pageX)+"px")
						   .style("top",(d3.event.pageY)+"px")
						   .html("Team Name:" + d.team + "\n" + "Runs Per Super Over:"+d.runs_super_over);
				})
			   .on("mouseout", function() { tooltip_r.style("opacity", 0) });

			bars.append("rect")
			  .attr("class", "bar2")
			  .attr("x", function(d) { return (!r_top) ? x(d.team)+15 : x(d.team)+50; })
			  .attr("width", x.rangeBand() / 2)
			  .attr("y", function(d) { return y0(d.runs_normal_over); })
			  .attr("height", function(d,i,j) { return height - y0(d.runs_normal_over); })
			  .attr("fill", color_rpn)				  
			  .on("mouseover", function(d,i) {
					tooltip_r.style("opacity", 1)
						   .style("left",(d3.event.pageX)+"px")
						   .style("top",(d3.event.pageY)+"px")
						   .html("Team Name:" + d.team + "\n" + "Runs Per Normal Over:"+d.runs_normal_over);
				})
				.on("mouseout", function() { tooltip_r.style("opacity", 0) });
					
			function type(d) {
			  d.runs_super_over = +d.runs_super_over;
			  return d;
			}		

			<!--Create the legend -->
			var colors = d3.scale.ordinal()
				.range([color_rps, color_rpn]);		
			
			var legend = svg.selectAll(".legend")
			.data(["Avg Runs Per Super Over", "Avg Runs Per Normal Over"])
			.enter().append("g")
			.attr("class", "legend")
			.attr("transform", function(d, i) { return "translate(0," + i * 20 + ")"; });		
			
			legend.append("rect")
			.attr("x", width)
			.attr("y", height+40)
			.attr("width", 18)
			.attr("height", 18)
			.style("fill", colors);
			
			legend.append("text")
			.attr("x", width - 10)
			.attr("y", height + 50)
			.attr("dy", ".35em")
			.style("text-anchor", "end")
			.text(function(d) { return d; });
		}		
	} 

</script>
<div id="matches" style="display:none;">
	<script>
		var match = document.getElementById("matches");
		if (match.style.display === "none") {
			;
		} else {
			matches_played_won();
		}
	</script>
</div>
</html>